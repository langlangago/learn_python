<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>文档操作</title>
    <style>
        .warning {
            font-size: 14px;
            font-weight: bold;
            color: red;
        }
    </style>
</head>
<body>
<div id="d1">
    <p><span>Span</span></p>
    <div>Div</div>
</div>
<div>
    <form>
        <p><label>用户名：
            <input name="username" class="need" type="text">
            <span class="warning"></span>
        </label></p>
        <p><label>密码：
            <input name="password" class="need" type="password">
            <span class="warning"></span>
        </label></p>
        <p><label>性别：
            <input name="gender" type="radio" value="0">男
            <input name="gender" type="radio" value="1">女
            <input name="gender" type="radio" value="2">保密
        </label></p>
        <p><label>爱好：
            <input name="hobby" type="checkbox" value="basketball">篮球
            <input name="hobby" type="checkbox" value="football">足球
            <input name="hobby" type="checkbox" value="doublecolorball">双色球
        </label></p>
        <p><label>从哪来2：
            <select name="from" id="s1">
                <option value="010">北京</option>
                <option value="020">广州</option>
                <option value="021">上海</option>
            </select>
        </label></p>
        <p><label>从哪来：
            <select name="from" id="s2" multiple>
                <option value="010">北京</option>
                <option value="020">广州</option>
                <option value="021">上海</option>
            </select>
        </label></p>
        <p><label>个人简介：
            <textarea name="info" id="t1" cols="30" rows="10"></textarea>
        </label></p>
        <p>
            <input type="submit" value="登录" id="b1">
            <input type="submit" value="注册" id="b2">
        </p>
    </form>
</div>
<script src="jquery-3.4.1.min.js"></script>
<script>
    $("#b1").click(function () {
        var $needEles = $(".need");
        flag = true;
        for (var i = 0; i < $needEles.length; i++) {
            if ($($needEles[i]).val().trim().length === 0) {
                $($needEles[i]).next().text("");
                var labelName = $($needEles[i]).parent().text().trim().slice(0, -1);
                $($needEles[i]).next().text(labelName + "不能为空!");
                flag = false; //设置标志位，如果校验不通过，就阻止后续事件执行。
                break; // 如果用户名都为空，校验不通过，那么就不继续下去了。跳出for循环。
            }
        }
        //永远阻止下一个事件的执行，本例子中是表单的提交事件
        //return false;
        return flag;
    });
</script>
</body>
</html>